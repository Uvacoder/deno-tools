<html>

<head>
  <title>Base64 - Tools</title>
  <link href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css" rel="stylesheet">
  <link rel="shortcut icon" href="https://pages.github.com/favicon.ico" />
</head>

<body>
  <h1>Base64</h1>
  <h2>encode: btoa</h2>
  <input id="btoa_input" type="text" onchange="onChangeBtoa()" autofocus style="width: 100%" />
  <input id="btoa_result" readonly style="width: 100%; border: none;" />
  <span id="btoa_message" style="color: red"></span>
  <h2>decode: atob</h2>
  <input id="atob_input" type="text" onchange="onChangeAtob()" style="width: 100%" />
  <input id="atob_result" readonly style="width: 100%; border: none;" />
  <span id="atob_message" style="color: red"></span>

  <script type="text/javascript" defer>
    const ERROR_MESSAGE = "Contains characters that cannot be converted.";
    function onChangeBtoa() {
      const message = document.getElementById("btoa_message");
      const resutl = document.getElementById("btoa_result");
      message.textContent = "";
      resutl.value = "";
      const input = document.getElementById("btoa_input").value;
      try {
        resutl.value = btoa(input);
      } catch {
        message.textContent = ERROR_MESSAGE;
      }
    }
    function onChangeAtob() {
      const message = document.getElementById("atob_message");
      const resutl = document.getElementById("atob_result");
      message.textContent = "";
      resutl.value = "";
      const input = document.getElementById("atob_input").value;
      try {
        resutl.value = atob(input);
      } catch {
        message.textContent = ERROR_MESSAGE;
      }
    }
  </script>
</body>

</html>
